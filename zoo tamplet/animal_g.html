<!DOCTYPE html>

<html class="light" lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>Animal CRUD Modal</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&amp;display=swap" rel="stylesheet" />
  <link
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
    rel="stylesheet" />
  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#6cee2b",
            "background-light": "#f6f8f6",
            "background-dark": "#162210",
          },
          fontFamily: {
            "display": ["Lexend", "sans-serif"]
          },
          borderRadius: { "DEFAULT": "0.5rem", "lg": "1rem", "xl": "1.5rem", "full": "9999px" },
        },
      },
    }
  </script>
  <style>
    .form-select {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      background-image: url(https://lh3.googleusercontent.com/aida-public/AB6AXuDNpk6NPf6X-AHu_pkG5cUPOOWiyyb4H_MMU4QglkzRM7kDrU4CpSX9Q4OI24j27EioyEPviNWXx5XZyb8ffSekgmdlR25dzauVLCWUHv2DPSemKBXmmAlSFdWe8USdcqJNyGarSb2xwHi7dx2fZwLJgjxaNC9HRaNNZIeAG7AKkvNQa3utKxZNVQfR0EMluvheP0RuzTo6zjnoenIc-Ha7UFeQnTpAdZiAkVv8Wr6JTiBcAwUOmVYh3aGb3tKlt4H4dlfuZVS7Isr2);
      background-position: right 0.5rem center;
      background-repeat: no-repeat;
      background-size: 1.5em 1.5em;
      padding-right: 2.5rem
    }
  </style>
</head>

<body class="font-display">
  <div
    class="relative flex min-h-screen w-full flex-col items-center justify-center bg-background-light dark:bg-background-dark p-4 sm:p-6 lg:p-8"
    style='font-family: Lexend, "Noto Sans", sans-serif;'>
    <!-- Background content -->
    <div
      class="absolute inset-0 z-0 bg-[url('https://images.unsplash.com/photo-1516912481808-3406841bd33c?q=80&amp;w=2148&amp;auto=format&amp;fit=crop')] bg-cover bg-center opacity-30 dark:opacity-20">
    </div>
    <div class="absolute inset-0 bg-background-light/50 dark:bg-background-dark/70 backdrop-blur-sm z-0"></div>
    <!-- Modal -->
    <div
      class="relative z-10 w-full max-w-2xl bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 font-display">
      <div class="p-6 sm:p-8">
        <!-- Modal Header -->
        <div class="flex items-start justify-between pb-4 border-b border-gray-200 dark:border-gray-700">
          <h2 class="text-[#131811] dark:text-gray-100 tracking-light text-2xl font-bold leading-tight">Add New Animal
          </h2>
          <button class="text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors">
            <span class="material-symbols-outlined">close</span>
          </button>
        </div>
        <!-- Modal Body/Form -->
        <div class="mt-6 space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-6">
            <!-- Left Column -->
            <div class="flex flex-col gap-6">
              <!-- Animal's Name -->
              <label class="flex flex-col w-full">
                <p class="text-[#131811] dark:text-gray-200 text-base font-medium leading-normal pb-2">Animal's Name</p>
                <input
                  class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#131811] dark:text-gray-200 focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dfe6db] dark:border-gray-600 bg-white dark:bg-gray-800 focus:border-primary h-12 placeholder:text-[#6f8961] dark:placeholder:text-gray-400 p-3 text-base font-normal leading-normal"
                  placeholder="e.g., Leo the Lion" value="" />
              </label>
              <!-- Favorite Food -->
              <label class="flex flex-col w-full">
                <p class="text-[#131811] dark:text-gray-200 text-base font-medium leading-normal pb-2">Favorite Food</p>
                <select
                  class="form-select flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#131811] dark:text-gray-200 focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dfe6db] dark:border-gray-600 bg-white dark:bg-gray-800 focus:border-primary h-12 p-3 text-base font-normal leading-normal">
                  <option value="">Select a food type</option>
                  <option value="meat">Meat</option>
                  <option value="fruit">Fruit</option>
                  <option value="plants">Plants</option>
                  <option value="fish">Fish</option>
                </select>
              </label>
              <!-- Habitat -->
              <label class="flex flex-col w-full">
                <p class="text-[#131811] dark:text-gray-200 text-base font-medium leading-normal pb-2">Habitat</p>
                <select
                  class="form-select flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#131811] dark:text-gray-200 focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dfe6db] dark:border-gray-600 bg-white dark:bg-gray-800 focus:border-primary h-12 p-3 text-base font-normal leading-normal">
                  <option value="">Select a habitat</option>
                  <option value="jungle">Jungle</option>
                  <option value="savannah">Savannah</option>
                  <option value="arctic">Arctic</option>
                  <option value="ocean">Ocean</option>
                </select>
              </label>
            </div>
            <!-- Right Column - Image Uploader -->
            <div class="flex flex-col h-full">
              <p class="text-[#131811] dark:text-gray-200 text-base font-medium leading-normal pb-2">Upload a Picture
              </p>
              <div
                class="flex flex-col items-center justify-center gap-4 rounded-lg border-2 border-dashed border-[#dfe6db] dark:border-gray-600 px-4 py-8 h-full">
                <div class="flex flex-col items-center gap-2 text-center">
                  <span class="material-symbols-outlined text-4xl text-gray-400 dark:text-gray-500">cloud_upload</span>
                  <p class="text-[#131811] dark:text-gray-300 text-base font-bold leading-tight">Upload a Picture</p>
                  <p class="text-[#6f8961] dark:text-gray-400 text-sm font-normal leading-normal max-w-[200px]">Drag
                    &amp; drop or click to upload a photo of the animal.</p>
                </div>
                <button
                  class="flex min-w-[84px] w-full max-w-[150px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#f2f4f0] dark:bg-gray-700 text-[#131811] dark:text-gray-200 text-sm font-bold leading-normal tracking-wide hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                  <span class="truncate">Browse File</span>
                </button>
              </div>
            </div>
          </div>
        </div>
        <!-- Modal Footer -->
        <div class="flex justify-end items-center gap-4 pt-6 mt-6 border-t border-gray-200 dark:border-gray-700">
          <button
            class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-11 px-6 bg-transparent text-gray-700 dark:text-gray-300 text-base font-bold leading-normal tracking-wide hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors">
            <span class="truncate">Cancel</span>
          </button>
          <button
            class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-11 px-6 bg-primary text-background-dark text-base font-bold leading-normal tracking-wide shadow-sm hover:brightness-110 transition-all">
            <span class="truncate">Save Animal</span>
          </button>
        </div>
      </div>
    </div>
  </div>
  <script>
    // المصفوفة لتخزين الحيوانات
    let animals = [];

    // الوصول لعناصر الـ modal
    const nameInput = document.querySelector("input[placeholder='e.g., Leo the Lion']");
    const foodSelect = document.querySelectorAll("select.form-select")[0];
    const habitatSelect = document.querySelectorAll("select.form-select")[1];
    const browseButton = document.querySelector("button:has(span.truncate)");
    const saveButton = document.querySelector("button.bg-primary");
    const cancelButton = document.querySelector("button.bg-transparent");
    const closeButton = document.querySelector("button:has(span.material-symbols-outlined)");

    // لتخزين الصورة مؤقتًا
    let uploadedImage = "";

    // رفع صورة
    browseButton.addEventListener("click", () => {
      const fileInput = document.createElement("input");
      fileInput.type = "file";
      fileInput.accept = "image/*";
      fileInput.onchange = e => {
        const file = e.target.files[0];
        if (!file) return;
        const reader = new FileReader();
        reader.onload = function (event) {
          uploadedImage = event.target.result; // base64 image
          alert("Image uploaded successfully!");
        };
        reader.readAsDataURL(file);
      };
      fileInput.click();
    });

    // حفظ الحيوان الجديد
    saveButton.addEventListener("click", () => {
      const name = nameInput.value.trim();
      const food = foodSelect.value;
      const habitat = habitatSelect.value;

      if (!name || !food || !habitat || !uploadedImage) {
        alert("Please fill all fields and upload an image.");
        return;
      }

      const newAnimal = {
        name,
        diet: food,
        habitat,
        img: uploadedImage
      };

      animals.push(newAnimal);
      console.log("Animals List:", animals);

      alert(`${name} has been added!`);

      // مسح الحقول بعد الحفظ
      nameInput.value = "";
      foodSelect.value = "";
      habitatSelect.value = "";
      uploadedImage = "";
    });

    // إغلاق المودال
    [cancelButton, closeButton].forEach(btn => {
      btn.addEventListener("click", () => {
        nameInput.value = "";
        foodSelect.value = "";
        habitatSelect.value = "";
        uploadedImage = "";
        alert("Modal closed and cleared.");
      });
    });

  </script>
</body>

</html>